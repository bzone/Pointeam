<!DOCTYPE html>
<!-- CSP support mode (required for Windows Universal apps): https://docs.angularjs.org/api/ng/directive/ngCsp -->
<html lang="en" ng-app="app" ng-csp>

<head>
    <meta charset="utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- JS dependencies (order matters!) -->
    <script src="scripts/platformOverrides.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/onsen/js/onsenui.js"></script>

    <!-- CSS dependencies -->
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsenui.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css" />

    <!-- CSP support mode (required for Windows Universal apps) -->
    <link rel="stylesheet" href="lib/angular/angular-csp.css" />


    <!-- --------------- App init --------------- -->
    <script src="js/app.js"></script>

    <title>Onsen UI Master-Details</title>


</head>

<body ng-controller="AppController">
    <!-- Cordova reference -->
    <script src="cordova.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery.easypiechart.js"></script>
    <script src="scripts/index.js"></script>
    <!-- -->
    <style>
        .item {
            padding: 0px;
            line-height: 1;
        }
        
        .item-thum {
            background-color: #ccc;
            width: 50px;
            height: 50px;
            border-radius: 4px;
        }
        
        .item-title {
            font-size: 15px;
            font-weight: 500;
        }
        
        .item-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.3;
            margin: 4px 0 0 0;
            padding: 0 30px 0 0;
        }
        
        .item-label {
            font-size: 12px;
            color: #999;
            float: right;
        }
    </style>

    <ons-navigator var="navi">
        <ons-page>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="navi.pushPage('settings.html', { animation : 'lift' } )">
                        <ons-icon icon="ion-gear-a" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center"><span class="logo"></span>
                </div>
                <div class="right">
                    <ons-toolbar-button id="goToDashboard">
                        <ons-icon icon="ion-speedometer" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                    <ons-toolbar-button id="goToList" style="display:none;">
                        <ons-icon icon="ion-navicon-round" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                    <ons-toolbar-button onclick="navi.pushPage('settings.html', { animation : 'slide' } )">
                        <ons-icon icon="ion-plus-round" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>

            <ons-carousel swipeable overscrollable auto-scroll fullscreen var="carousel" ng-controller="MasterController" class="tabDashboard" style="overflow:hidden; height:0px;">
                <ons-carousel-item style="background-color: #32188f;" class="item" ng-repeat="item in items" ng-click="showDetail($index)">
                    <div class="relativeBox">
                      
                      <span class="chart" data-percent="86">
		                    <span class="percent"></span><br/>
		                    <span class="number">15/34</span>
		                    <h4>ukończonych<br/>zadań</h4>
	                    </span>
                      
                      
                       <div class="projectFooter">
                          <div class="infoElements">
                                            <div class='icon completionHalf'>w trakcie</div>
                                            <div class='icon time'>12:23</div>
                                            <div class='icon cost'>215zł</div>
                                            <div class='icon promo'>5</div>
                                        </div>
                                        <div class="clear"></div>
                           <div class="yourStats">
                               Zadania przypisane do Ciebie: <span class="colorYellow">2</span><br/>
                               Zadania nieprzypisane: <span class="colorYellow">2</span><br/>
                               Najbliższy termin: <span class="colorYellow">20.12.2015 12:00</span><br/>
                           </div>
                            <h4>zadania przypisane do inncyh osób</h4>
                            <div class="projectPeople">
                                <div class="person">
                                    <div class="badge">15</div>
                                </div>
                            </div>
                       </div>
                    </div>
                </ons-carousel-item>
            </ons-carousel>


            <ons-tapbar position="top" class="homeTabs">
                <div class="tab-bar tab-bar--top tab-bar--top-border">
                    <label class="tab-bar__item tab-bar--top-border__item" id="goToProjekty">
                        <input type="radio" name="top-tab-bar-b" checked="checked">
                        <button class="tab-bar__button tab-bar--top-border__button">
                            Projekty
                        </button>
                    </label>

                    <label class="tab-bar__item tab-bar--top-border__item" id="goToMojeZadania">
                        <input type="radio" name="top-tab-bar-b">
                        <button class="tab-bar__button tab-bar--top-border__button">
                            Moje zadania
                        </button>
                    </label>

                </div>
            </ons-tapbar>

            <ons-list ng-controller="MasterController" style="display:block;" class="tabProjekty">
                <ons-list-item modifier="chevron" class="item" ng-repeat="item in items" ng-click="showDetail($index)">
                    <ons-row>
                        <ons-col>
                            <ons-carousel style="height: 115px;" initial-index="1" swipeable overscrollable auto-scroll>
                                <ons-carousel-item style="background-color:red;">
                                    Carousel Item 1
                                </ons-carousel-item>
                                <ons-carousel-item>
                                    <div class="basicItem">
                                        <div class="dateHolder prioImportant">
                                            <div class="day">12</div>
                                            <div class="mounth">MAR</div>
                                            <div class="hour">12:20</div>
                                        </div>
                                        <div class="statusHolder"></div>
                                        <div class="taskTitle">{{item.title}}</div>
                                        <div class="projectTitle">{{item.desc}}</div>
                                        <div class="infoElements">
                                            <div class='icon completionHalf'>w trakcie</div>
                                            <div class='icon time'>12:23</div>
                                            <div class='icon cost'>215zł</div>
                                            <div class='icon promo'>5</div>
                                        </div>
                                    </div>
                                </ons-carousel-item>
                            </ons-carousel>
                        </ons-col>
                    </ons-row>
                </ons-list-item>
            </ons-list>
            <ons-list ng-controller="MasterController" style="display:none;" class="tabMojeZadania">
                <ons-list-item modifier="chevron" class="item" ng-repeat="item in items" ng-click="showDetail($index)">
                    <ons-row>

                        <ons-col>
                            <header>
                                <span class="item-title">{{item.title}}</span>
                                <span class="item-label">{{item.label}}</span>
                            </header>
                            <p class="item-desc">{{item.desc}}</p>
                        </ons-col>
                    </ons-row>
                </ons-list-item>
            </ons-list>
        </ons-page>
    </ons-navigator>

    <ons-template id="detail.html">
        <ons-page ng-controller="DetailController">

            <ons-toolbar>
                <div class="left">
                    <ons-back-button>Back</ons-back-button>
                </div>
                <div class="center">Details</div>
            </ons-toolbar>

            <ons-list modifier="inset" style="margin-top: 10px">
                <ons-list-item class="item">
                    <ons-row>
                        <ons-col width="60px">
                            <div class="item-thum"></div>
                        </ons-col>
                        <ons-col>
                            <header>
                                <span class="item-title">{{item.title}}</span>
                                <span class="item-label">{{item.label}}</span>
                            </header>
                            <p class="item-desc">{{item.desc}}</p>
                        </ons-col>
                    </ons-row>
                </ons-list-item>

                <ons-list-item modifier="chevron" ng-click="doSomething()">
                    <ons-icon icon="ion-chatboxes" fixed-width="true" style="color: #ccc"></ons-icon>
                    Add a note
                </ons-list-item>
            </ons-list>

            <ons-list style="margin-top: 10px">
                <ons-list-item class="item" ng-repeat="i in [1,2,3]">
                    <header>
                        <span class="item-title">Lorem ipsum dolor sit amet</span>
                    </header>
                    <p class="item-desc">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </ons-list-item>
            </ons-list>

            <br>

        </ons-page>
    </ons-template>
    <script>
        jQuery(document).ready(function ($) {

            $('#goToMojeZadania').click(function () {
                $('.tabMojeZadania').css('display', 'block');
                $('.tabProjekty').css('display', 'none');

            });

            $('#goToProjekty').click(function () {
                $('.tabMojeZadania').css('display', 'none');
                $('.tabProjekty').css('display', 'block');
            });

            $('#goToDashboard').click(function () {
                $('.tabMojeZadania').css('display', 'none');
                $('.tabProjekty').css('display', 'none');
                $('.homeTabs').css('display', 'none');
                $(this).css('display', 'none');
                $('.tabDashboard').css('overflow', 'initial');
                $('.tabDashboard').css('height', 'auto');
                $('#goToList').css('display', 'inline-block');
            });

            $('#goToList').click(function () {
                $('.tabMojeZadania').css('display', 'none');
                $('.tabProjekty').css('display', 'block');
                $('.homeTabs').css('display', 'block');
                $(this).css('display', 'none');
                $('.tabDashboard').css('overflow', 'hidden');
                $('.tabDashboard').css('height', '1px');
                $('#goToDashboard').css('display', 'inline-block');
            });
            
            $(function() {
		$('.chart').easyPieChart({
            size:230,
            lineWidth:6,
            barColor:'#FFD100',
            trackColor:'#1E1052',
            scaleColor:'#32188f',
            lineCap:'square', 
			easing: 'easeOutBounce',
			onStep: function(from, to, percent) {
				$(this.el).find('.percent').text(Math.round(percent));
			}
		});
	});


            // Funkcje dla podstron

            function captureSuccess(mediaFiles) {
                var i, len;
                for (i = 0, len = mediaFiles.length; i < len; i += 1) {
                    alert(mediaFiles[i].name);
                    alert(mediaFiles[i].fullPath);
                    var obrazek = document.getElementById('avatar');
                    obrazek.src = mediaFiles[i].fullPath;
                }
            }

            function captureImage() {
                navigator.device.capture.captureImage(captureSuccess, alert('dupa'), {
                    limit: 1
                });
            }



            ons.ready(function () {
                navi.on('postpush', function () {
                    $('#capturePhoto').click(function () {
                        alert('capture');
                        captureImage();
                    });
                });
            });




        });
    </script>


</body>

</html>