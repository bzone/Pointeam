<!DOCTYPE html>
<!-- CSP support mode (required for Windows Universal apps): https://docs.angularjs.org/api/ng/directive/ngCsp -->
<html lang="en" ng-app="app" ng-csp>

<head>
    <meta charset="utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <!-- JS dependencies (order matters!) -->
    <script src="scripts/platformOverrides.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/onsen/js/onsenui.js"></script>
    <!-- CSS dependencies -->
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsenui.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css" />
    <!-- CSP support mode (required for Windows Universal apps) -->
    <link rel="stylesheet" href="lib/angular/angular-csp.css" />
    <!-- --------------- App init --------------- -->
    <script src="js/app.js"></script>
    <title>Pointeam</title>
</head>

<body ng-controller="AppController">
    <!-- Cordova reference -->
    <script src="cordova.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery.easypiechart.js"></script>
    <script src="scripts/index.js"></script>
    <!-- -->
    <style>
        .item {
            padding: 0px;
            line-height: 1;
        }
        
        .item-thum {
            background-color: #ccc;
            width: 50px;
            height: 50px;
            border-radius: 4px;
        }
        
        .item-title {
            font-size: 15px;
            font-weight: 500;
        }
        
        .item-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.3;
            margin: 4px 0 0 0;
            padding: 0 30px 0 0;
        }
        
        .item-label {
            font-size: 12px;
            color: #999;
            float: right;
        }
        .over {
            position: fixed;
            bottom:0px;
            left: 0px;
            width: 100%;
            height: 50px;
            background-color: red;
            z-index: 9999;
        }
    </style>
    <div class="over">test</div>
    <ons-navigator var="navi">
        <ons-page style="background:#31198B !Important;">

            <div class="bigLogo"></div>
            <form class="loginStyle">
                <input type="email" class="loginInputStyle" placeholder="e-mail" />
                <input type="password" class="loginInputStyle" placeholder="hasło" />
                <a class="submitButton" onclick="navi.pushPage('home.html', { animation : 'slide' } )">Zaloguj się</a>
                <br/>
                <span class="lub">lub</span>
                <a class="submitButton" onclick="navi.pushPage('register.html', { animation : 'slide' } )">Utwórz nowe konto</a>
                <br/>
                <a class="passwordReset" onclick="navi.pushPage('recovery.html', { animation : 'slide' } )">zapomniałeś hasła?</a>
            </form>
        </ons-page>
    </ons-navigator>


    <ons-template id="register.html">
        <ons-toolbar>
            <div class="left">
                <ons-toolbar-button onclick="navi.popPage();">
                    <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                </ons-toolbar-button>
            </div>
        </ons-toolbar>
        <ons-page style="background:#31198B !Important;">
            <div class="bigLogo logoMargin"></div>
            <form class="loginStyle">
                <input type="text" class="loginInputStyle" placeholder="imię" />
                <input type="text" class="loginInputStyle" placeholder="nazwisko" />
                <input type="email" class="loginInputStyle" placeholder="e-mail" />
                <input type="password" class="loginInputStyle" placeholder="hasło" />
                <a class="submitButton" onclick="navi.pushPage('home.html', { animation : 'slide' } )">Utwórz konto i zaloguj</a>
                <br/>
            </form>
        </ons-page>
    </ons-template>


    <ons-template id="recovery.html">
        <ons-toolbar>
            <div class="left">
                <ons-toolbar-button onclick="navi.popPage();">
                    <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                </ons-toolbar-button>
            </div>
        </ons-toolbar>
        <ons-page style="background:#31198B !Important;">
            <div class="bigLogo logoMargin"></div>
            <form class="loginStyle">
                <p class="recover">Opis zadania Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sit amet nulla lorem. Suspendisse imperdiet tincidunt ligula, non rutrum libero semper vel. Praesent quis molestie odio. Vestibulum nec urna commodo enim laoreet congue sed non risus. Fusce in lectus turpis</p>
                <br/>
                <input type="email" class="loginInputStyle" placeholder="twój e-mail" />
                <a class="submitButton" onclick="navi.popPage()">zresetuj hasło</a>
                <br/>
            </form>
        </ons-page>
    </ons-template>

    <ons-template id="home.html">
        <ons-page>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="navi.pushPage('settings.html', { animation : 'lift' } )">
                        <ons-icon icon="ion-gear-a" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center"><span class="logo"></span>
                </div>
                <div class="right">
                    <ons-toolbar-button id="goToDashboard">
                        <ons-icon icon="ion-speedometer" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                    <ons-toolbar-button id="goToList" style="display:none;">
                        <ons-icon icon="ion-navicon-round" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                    <ons-toolbar-button onclick="projectCreated++;navi.pushPage('newproject.html', { animation : 'slide' } );">
                        <ons-icon icon="ion-plus-round" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <ons-carousel swipeable overscrollable auto-scroll auto-refresh fullscreen var="carousel" ng-controller="MasterController" class="tabDashboard" style="overflow:hidden; height:0px;">
                <ons-carousel-item style="background-color: #32188f;" class="item" ng-repeat="item in items" ng-click="showDetail($index)">
                    <div class="relativeBox">
                        <div class="ownerInfo">
                            <div class="person avatarUser" style="background-image:url('http://themina.net/themes/shema/img/demo/team/team_img_3.jpg');"></div>
                            <div class="projectTitleAuthor">
                                <span class="title">Nazwa projektu…</span>
                                <span class="author">Admin: Piotr Kowalski</span>
                            </div>
                        </div>
                        <span class="chart" data-percent="{{item.procentUkonczeniaProjektu}}">
		                    <span class="percent"></span>
                        <br/>
                        <span class="number">{{item.ukonczoneZadania}}/{{item.wszystkieZadania}}</span>
                        <h4>ukończonych<br/>zadań</h4>
                        </span>
                        <div class="projectFooter">
                            <div class="infoElements">
                                <div class='icon {{item.statusClass}}'>{{item.statusUzytkownika}}</div>
                                <div class='icon time'>{{item.czasUzytkownika}}</div>
                                <div class='icon cost'>{{item.kasaUzytkownika}}</div>
                                <div class='icon promo'>{{item.punktyUzytkownika}}</div>
                            </div>
                            <div class="clear"></div>
                            <br/>
                            <div class="yourStats">
                                Zadania przypisane do Ciebie: <span class="colorYellow">{{item.zadaniaPrzypisaneDoUzytkownika}}</span>
                                <br/> Zadania nieprzypisane: <span class="colorYellow">{{item.zadaniaNieprzypisane}}</span>
                                <br/> Najbliższy termin: <span class="colorYellow">{{item.terminy[0].data}}</span>
                                <br/>
                            </div>
                            <br/>
                            <h4>zadania przypisane do inncyh osób</h4>
                            <div class="projectPeople">
                                <meta name="format-detection" content="telephone=no">


                                <span ng-repeat="osoba in item.przypisaneOsoby | limitTo: 5">
                                <div class="person" style="background-image:url('{{ osoba.avatar }}');">
                                    <div class="badge">{{ osoba.iloscZadan }}</div>
                                </div>
                                </span>
                            </div>
                        </div>
                    </div>
                </ons-carousel-item>
            </ons-carousel>
            <ons-tapbar position="top" class="homeTabs">
                <div class="tab-bar tab-bar--top tab-bar--top-border">
                    <label class="tab-bar__item tab-bar--top-border__item" id="goToProjekty">
                        <input type="radio" name="top-tab-bar-b" checked="checked">
                        <button class="tab-bar__button tab-bar--top-border__button">
                            Projekty
                        </button>
                    </label>

                    <label class="tab-bar__item tab-bar--top-border__item" id="goToMojeZadania">
                        <input type="radio" name="top-tab-bar-b">
                        <button class="tab-bar__button tab-bar--top-border__button">
                            Moje zadania
                        </button>
                    </label>
                </div>
            </ons-tapbar>
            <ons-list ng-controller="MasterController" style="display:block;" class="tabProjekty">
                <ons-list-item modifier="chevron" class="item" ng-repeat="item in items" ng-click="showDetail($index)">
                    <ons-row>
                        <ons-col>
                            <div class="basicItem project">
                                <div class="avatarHolder">
                                    <div class="person avatarUser"></div>
                                </div>
                                <div class="statusHolder">
                                    <div class="statusItem notificationsCount" style="display:{{item.notyfikacjeDisplay}};">{{item.notyfikacje}}</div>
                                </div>
                                <div class="chartHolder">
                                    <span class="chartMini" data-percent="{{item.procentUkonczeniaProjektu}}">
		                    <span class="percent"></span>
                                    <br/>
                                    </span>
                                </div>
                                <div class="taskTitle">{{item.tytul}}</div>
                                <div class="infoElements">
                                    <div class='icon {{item.statusClass}}'>{{item.statusUzytkownika}}</div>
                                    <div class='icon time'>{{item.czasUzytkownika}}</div>
                                    <div class='icon cost'>{{item.kasaUzytkownika}}</div>
                                    <div class='icon promo'>{{item.punktyUzytkownika}}</div>
                                </div>
                                <div class="normalStats">
                                    Zadania przypisane do Ciebie: {{item.zadaniaPrzypisaneDoUzytkownika}}
                                    <br/> Zadania nieprzypisane: {{item.zadaniaNieprzypisane}}
                                    <br/> Najbliższy termin: {{item.terminy[0].data}}
                                </div>
                            </div>
                        </ons-col>
                    </ons-row>
                </ons-list-item>
            </ons-list>
            <ons-list ng-controller="MasterController" style="display:none;" class="tabMojeZadania">
                <div ng-repeat="item in items">
                    <ons-list-item modifier="chevron" class="item" ng-repeat="zadanie in item.zadania | orderBy:'data' | filter:{basicItem:'block',ukonczoneDisplay:'none'}" ng-click="showDetail($index)">
                        <ons-row>
                            <ons-col>
                                <div class="basicItem myTask" style="display:{{zadanie.basicItem}};">
                                    <div class="dateHolder {{zadanie.priorytet}}">
                                        <div class="day">{{zadanie.dataDzien}}</div>
                                        <div class="mounth">{{zadanie.dataMiesiac}}</div>
                                        <div class="hour">{{zadanie.dataGodzina}}</div>
                                    </div>
                                    <div class="statusHolder">
                                        <div class="statusItem notificationsCount" style="display:{{zadanie.notyfikacjeDisplay}};">{{zadanie.notyfikacje}}</div>
                                        <div class="statusItem location" style="display:{{zadanie.lokalizacjaDisplay}};"></div>
                                        <div class="statusItem done" style="display:{{zadanie.ukonczoneDisplay}};"></div>
                                        <div class="statusItem noPerson" style="display:{{zadanie.brakOsobyDisplay}};"></div>
                                    </div>
                                    <div class="statusHolder">
                                        <div class="statusItem notificationsCount" style="display:{{zadanie.notyfikacjeDisplay}};">{{zadanie.notyfikacje}}</div>
                                    </div>

                                    <div class="taskTitle">{{zadanie.nazwa}}</div>
                                    <div class="smallProjectTitle">{{item.tytul}}</div>
                                    <div class="infoElements">
                                        <div class='icon {{zadanie.statusClass}}'>{{zadanie.statusUzytkownika}}</div>
                                        <div class='icon time'>{{zadanie.czasUzytkownika}}</div>
                                        <div class='icon cost'>{{zadanie.kasaUzytkownika}}</div>
                                        <div class='icon promo'>{{zadanie.punktyUzytkownika}}</div>
                                    </div>
                                </div>
                            </ons-col>
                        </ons-row>
                    </ons-list-item>
            </ons-list>
            </div>
        </ons-page>
    </ons-template>

    <ons-template id="procjectview.html">
        <ons-page ng-controller="DetailController">
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="if(projectCreated==1){projectCreated=0;navi.getPages()[3].destroy();navi.popPage();} else { navi.popPage(); }">
                        <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">{{item.krotkitytul}}</div>
                <div class="right">
                    <ons-toolbar-button id="projectOptions" ng-if="!item.zamkniety">
                        <ons-icon icon="ion-more" fixed-width="false" style="font-size: 26px; vertical-align: -4px" ng-click="projectOptions()"></ons-icon>
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <ons-tapbar position="top" class="homeTabs">
                <div class="tab-bar tab-bar--top tab-bar--top-border">
                    <label class="tab-bar__item tab-bar--top-border__item" id="goToZadania">
                        <input type="radio" name="top-tab-bar-b" checked="checked">
                        <button class="tab-bar__button tab-bar--top-border__button">
                            Zadania
                        </button>
                    </label>
                    <label class="tab-bar__item tab-bar--top-border__item" id="goToBudzet">
                        <input type="radio" name="top-tab-bar-b">
                        <button class="tab-bar__button tab-bar--top-border__button">
                            Budżet
                        </button>
                    </label>
                    <label class="tab-bar__item tab-bar--top-border__item" id="goToPostep">
                        <input type="radio" name="top-tab-bar-b">
                        <button class="tab-bar__button tab-bar--top-border__button">
                            Postęp
                        </button>
                    </label>
                </div>
            </ons-tapbar>
            <div ng-if="!item.zadania" class="emptyAll">
                <div class="emptyState"></div>
                <div id="newTask" style="display:none;">Dodaj zadanie</div>
            </div>
            <ons-list style="display:block;" class="tabZadania">
                <ons-list-item modifier="chevron" class="item" ng-repeat="zadanie in item.zadania track by $index | orderBy:'data'" ng-click="showDetail($index)">
                    <ons-row>
                        <ons-col>
                            <div class="basicItem subtask" style="display:{{zadanie.basicItem}};">
                                <div class="avatarHolder">
                                    <div class="person" style="background-image:url({{zadanie.avatarPierwszejOsoby}})"></div>
                                    <div class="clear"></div>
                                    <div class="dodatkoweOsoby" style="display:{{zadanie.dodatkoweOsobyDisplay}};">+{{zadanie.dotatkoweOsoby}}</div>
                                </div>
                                <div class="dateHolder {{zadanie.priorytet}}">
                                    <div class="day">{{zadanie.dataDzien}}</div>
                                    <div class="mounth">{{zadanie.dataMiesiac}}</div>
                                    <div class="hour">{{zadanie.dataGodzina}}</div>
                                </div>
                                <div class="statusHolder">
                                    <div class="statusItem notificationsCount" style="display:{{zadanie.notyfikacjeDisplay}};">{{zadanie.notyfikacje}}</div>
                                    <div class="statusItem location" style="display:{{zadanie.lokalizacjaDisplay}};"></div>
                                    <div class="statusItem done" style="display:{{zadanie.ukonczoneDisplay}};"></div>
                                    <div class="statusItem noPerson" style="display:{{zadanie.brakOsobyDisplay}};"></div>
                                </div>
                                <div class="statusHolder">
                                    <div class="statusItem notificationsCount" style="display:{{zadanie.notyfikacjeDisplay}};">{{zadanie.notyfikacje}}</div>
                                </div>

                                <div class="taskTitle" style="margin-bottom:-10px;">{{zadanie.nazwa}}</div>
                                <div class="infoElements">
                                    <div class='icon {{zadanie.statusClass}}'>{{zadanie.statusUzytkownika}}</div>
                                    <div class='icon time'>{{zadanie.czasUzytkownika}}</div>
                                    <div class="clear" style="margin-bottom:5px;"></div>
                                    <div class='icon cost'>{{zadanie.kasaUzytkownika}}</div>
                                    <div class='icon promo'>{{zadanie.punktyUzytkownika}}</div>
                                </div>
                            </div>
                            <div class="milestoneElement" style="display:{{zadanie.milestone}};">
                                <div class="milestoneHeader">{{zadanie.mileStoneNaglowek}}</div>
                                <div class="milerstoneDate">{{zadanie.data}}</div>
                                <div class="milerstoneDes">{{zadanie.nazwa}}</div>
                                <div class="charts">
                                    <span class="chartMini2" data-percent="{{zadanie.milestoneUkonczoneZadaniaProcent}}">
		                    <span class="percent"></span>
                                    </span>
                                    <div class="charMiniLabel">ukończone
                                        <br/>zadania</div>
                                    <span class="chartMini3" data-percent="{{zadanie.milestoneWykorzystanyBudzetPieniadze}}">
		                    <span class="percent"></span>
                                    </span>
                                    <div class="charMiniLabel">budżet
                                        <br/>pieniądze</div>
                                    <span class="chartMini4" data-percent="{{zadanie.milestoneWykorzystanyBudzetGodziny}}">
		                    <span class="percent"></span>
                                    </span>
                                    <div class="charMiniLabel">budżet
                                        <br/>godziny</div>
                                    <div class="clear"></div>
                                </div>
                                <div class="clear"></div>
                            </div>
                        </ons-col>
                    </ons-row>
                </ons-list-item>
            </ons-list>
            <div style="display:none;" class="tabBudzet">
                <div class="chartsBig">
                    <div class="half" ng-if="item.budzetGodzinowy=='tak'">
                        <span class="chartHours" data-percent="{{item.budzetGodzinowyWykorzystanie/item.budzetGodzinowyWartosc*100}}">
		                    <span class="percent"></span>
                        <div class="clear"></div>
                        <span class="detail">{{item.budzetGodzinowyWykorzystanie}}/{{item.budzetGodzinowyWartosc}}</span>
                        </span>
                        <div class="chartLabel">przepracowanych
                            <br/>godzin</div>
                    </div>
                      <div class="half" ng-if="item.budzetGodzinowy!='tak'">
                        <span class="chartHours" data-percent="0">
		                    <span class="value">{{item.budzetGodzinowyWykorzystanie}}</span>
                        <div class="clear"></div>
    
                        </span>
                        <div class="chartLabel">przepracowanych
                            <br/>godzin</div>
                    </div>
                    <div class="half" ng-if="item.budzetPieniezny=='tak'">
                        <span class="chartMoney" data-percent="{{item.budzetPienieznyWykorzystanie/item.budzetPienieznyWartosc*100}}">
		                    <span class="percent"></span>
                        <div class="clear"></div>
                        <span class="detail">{{item.budzetPienieznyWykorzystanie}}/{{item.budzetPienieznyWartosc}}</span>
                        </span>
                        <div class="chartLabel">wykorzystane
                            <br/>pieniądze</div>
                    </div>
                    <div class="half" ng-if="item.budzetPieniezny!='tak'">
                        <span class="chartMoney" data-percent="{{item.budzetPienieznyWykorzystanie/item.budzetPienieznyWartosc*100}}">
		                    <span class="value">{{item.budzetPienieznyWykorzystanie}}zł</span>
                        <div class="clear"></div>
                        </span>
                        <div class="chartLabel">wykorzystane
                            <br/>pieniądze</div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="clear"></div>
                <ul class="list ">
                    <li class="list__header" id="budgetType">Koszty - zmień <i class="icon ion-android-arrow-dropdown"></i>
                    </li>
                    <ons-list-item modifier="chevron" class="item typeAll typeCzas" style="display:none;" ng-repeat="osoba in item.przypisaneOsoby | orderBy:'-czasUzytkownika'" ng-click="showDetail($index)">
                        <ons-row>
                            <ons-col>
                                <div class="basicItem subtask" style="display:{{zadanie.basicItem}};">
                                    <div class="avatarHolder">
                                        <div class="person" style="background-image:url({{osoba.avatar}})"></div>
                                        <div class="clear"></div>

                                    </div>
                                    <div class="dateHolder prioFinished">
                                        <div class="day">0{{$index+1}}</div>
                                    </div>
                                    <div class="taskTitle" style="margin-bottom:-10px;">{{osoba.imie}}</div>
                                    <div class="taskTitle" style="margin-bottom:-10px;">{{osoba.czasUzytkownika}}</div>
                                    <div class="infoElements">
                                        <div class='icon time'>{{osoba.czasUzytkownika}}</div>
                                        <div class='icon cost'>{{osoba.kasaUzytkownika}}</div>
                                        <div class='icon cost'>{{osoba.stawka}}</div>
                                        <div class='icon promo'>{{osoba.punktyUzytkownika}}</div>
                                    </div>
                                </div>
                            </ons-col>
                        </ons-row>
                    </ons-list-item>
                    <ons-list-item modifier="chevron" class="item typeAll typePunkty" style="display:none;" ng-repeat="osoba in item.przypisaneOsoby | orderBy:'-punktyUzytkownika'" ng-click="showDetail($index)">
                        <ons-row>
                            <ons-col>
                                <div class="basicItem subtask" style="display:{{zadanie.basicItem}};">
                                    <div class="avatarHolder">
                                        <div class="person" style="background-image:url({{osoba.avatar}})"></div>
                                        <div class="clear"></div>

                                    </div>
                                    <div class="dateHolder prioFinished">
                                        <div class="day">0{{$index+1}}</div>
                                    </div>
                                    <div class="taskTitle" style="margin-bottom:-10px;">{{osoba.imie}}</div>
                                    <div class="taskTitle" style="margin-bottom:-10px;">{{osoba.punktyUzytkownika}}</div>
                                    <div class="infoElements">
                                        <div class='icon time'>{{osoba.czasUzytkownika}}</div>
                                        <div class='icon cost'>{{osoba.kasaUzytkownika}}</div>
                                        <div class='icon cost'>{{osoba.stawka}}</div>
                                        <div class='icon promo'>{{osoba.punktyUzytkownika}}</div>
                                    </div>
                                </div>
                            </ons-col>
                        </ons-row>
                    </ons-list-item>
                    <ons-list-item modifier="chevron" class="item typeAll typeZadania" style="display:none;" ng-repeat="osoba in item.przypisaneOsoby | orderBy:'-iloscZadan'" ng-click="showDetail($index)">
                        <ons-row>
                            <ons-col>
                                <div class="basicItem subtask" style="display:{{zadanie.basicItem}};">
                                    <div class="avatarHolder">
                                        <div class="person" style="background-image:url({{osoba.avatar}})"></div>
                                        <div class="clear"></div>

                                    </div>
                                    <div class="dateHolder prioFinished">
                                        <div class="day">0{{$index+1}}</div>
                                    </div>
                                    <div class="taskTitle" style="margin-bottom:-10px;">{{osoba.imie}}</div>
                                    <div class="taskTitle" style="margin-bottom:-10px;">{{osoba.iloscZadan}}</div>
                                    <div class="infoElements">
                                        <div class='icon time'>{{osoba.czasUzytkownika}}</div>
                                        <div class='icon cost'>{{osoba.kasaUzytkownika}}</div>
                                        <div class='icon cost'>{{osoba.stawka}}</div>
                                        <div class='icon promo'>{{osoba.punktyUzytkownika}}</div>
                                    </div>
                                </div>
                            </ons-col>
                        </ons-row>
                    </ons-list-item>
                </ul>
            </div>
            <div style="display:none;" class="tabPostep">
                <div class="chartsBig">
                    <div class="half">
                        <span class="chartTask" data-percent="{{item.procentUkonczeniaProjektu}}">
		                    <span class="percent"></span>
                        <div class="clear"></div>
                        <span class="detail">{{item.ukonczoneZadania}}/{{item.wszystkieZadania}}</span>
                        </span>
                        <div class="chartLabel">wykonanych
                            <br/>zadań</div>
                    </div>
                    <div class="half">
                        <div class="statBigElement borderBottom">
                            <span class="stat-title">nieprzypisane zadania</span>
                            <div class="clear"></div>
                            {{item.zadaniaNieprzypisane}}
                        </div>
                        <div class="statBigElement borderBottom">
                            <span class="stat-title">zadania po terminie</span>
                            <div class="clear"></div>
                            {{item.zadaniaPoTerminie}}
                        </div>
                        <div class="statBigElement">
                            <span class="stat-title">zadania z przekroczonym budżetem</span>
                            <div class="clear"></div>
                            {{item.zadaniaPrzekroczonyBudzet}}
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="clear"></div>
                <ul class="list ">
                    <li class="list__header" ng-click="logType()">Wszystko - zmień <i class="icon ion-android-arrow-dropdown"></i>
                    </li>
                    <ons-list-item modifier="chevron" class="item typeLogAll typeKoszt" ng-repeat="logItem in item.log | orderBy:'-data' | logfilter:search">
                        <ons-row>
                            <div ng-if="logItem.typ=='koniecZadania'" class="width100">
                                <ons-col>
                                    <div class="basicItem logItem">
                                        <div class="avatarHolder">
                                            <div class="person" style="background-image:url({{logItem.avatarOsoby}})"></div>
                                            <div class="clear"></div>
                                        </div>
                                        <div class="actionButtonHolder" ng-if="!logItem.przyznanePunkty" data-id="{{logItem.idLog}}">
                                            <div class="addPromo" ng-click="addPromoPoints(logItem.idLog)"></div>
                                        </div>
                                        <div class="taskTitle" style="margin-bottom:-10px;">Zakończenie zadania:</div>
                                        <div class="taskTitle" style="margin-bottom:-10px;">{{logItem.nazwa}}</div>
                                        <div class="infoElements">
                                            <div class='icon none'>{{logItem.osoba}}</div>
                                            <div class='icon time'>{{logItem.dataPrezentacja}}</div>
                                        </div>
                                        <div ng-if="logItem.przyznanePunkty" class="actionInfo" data-id="{{logItem.idLog}}">
                                            Przyznano punkty premiowe: <strong>{{logItem.przyznanePunkty}}</strong>
                                        </div>
                                    </div>
                                </ons-col>
                            </div>
                            <div ng-if="logItem.typ=='noweZadanie'" class="width100">
                                <ons-col>
                                    <div class="basicItem logItem">
                                        <div class="avatarHolder">
                                            <div class="person" style="background-image:url({{logItem.avatarOsoby}})"></div>
                                            <div class="clear"></div>
                                        </div>
                                        <div class="taskTitle" style="margin-bottom:-10px;">Nowe zadanie:</div>
                                        <div class="taskTitle" style="margin-bottom:-10px;">{{logItem.nazwa}}</div>
                                        <div class="infoElements">
                                            <div class='icon none'>{{logItem.osoba}}</div>
                                            <div class='icon time'>{{logItem.dataPrezentacja}}</div>
                                        </div>

                                    </div>
                                </ons-col>
                            </div>
                            <div ng-if="logItem.typ=='zakonczenieProjektu'" class="width100">
                                <ons-col>
                                    <div class="basicItem logItem purple">
                                        <div class="taskTitle" style="margin-bottom:-10px;">Zakończenie projektu</div>
                                        <div class="infoElements">
                                            <div class='icon time'>{{logItem.dataPrezentacja}}</div>
                                        </div>
                                    </div>
                                </ons-col>
                            </div>
                             <div ng-if="logItem.typ=='rozpoczecieProjektu'" class="width100">
                                <ons-col>
                                    <div class="basicItem logItem purple">
                                        <div class="taskTitle" style="margin-bottom:-10px;">Rozpoczęcie projektu</div>
                                        <div class="infoElements">
                                            <div class='icon time'>{{logItem.dataPrezentacja}}</div>
                                        </div>
                                    </div>
                                </ons-col>
                            </div>
                            <div ng-if="logItem.typ=='zakonczenieMilestone'" class="width100">
                                <ons-col>
                                    <div class="basicItem logItem grey">
                                        <div class="taskTitle" style="margin-bottom:-10px;">Zakończenie milestone</div>
                                        <div class="taskTitle" style="margin-bottom:-10px;">{{logItem.nazwa}}</div>
                                        <div class="infoElements">
                                            <div class='icon time'>{{logItem.dataPrezentacja}}</div>
                                        </div>
                                    </div>
                                </ons-col>
                            </div>
                        </ons-row>
                    </ons-list-item>
                </ul>
            </div>
        </ons-page>
    </ons-template>
    <ons-template id="settings.html">
        <ons-page>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="navi.popPage();">
                        <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">Ustawienia</div>
                <div class="right">
                    <ons-toolbar-button onclick="navi.getPages()[2].destroy();navi.popPage();">
                        <ons-icon icon="ion-log-out" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <div class="text-center" style="background-color:#32188f;">
                <div id="avatar" class="avatarUser" style="background-url('{{user.avatar}}');"></div>
                <a id="capturePhoto">zmień awatar</a>
            </div>
            <ul class="list">
                <li class="list__header">Modyfikuj dane osobowe</li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Imię</ons-col>
                        <ons-col class="col ons-col-inner">
                            <input type="text" class="text-input text-input--transparent inputWithLabel" placeholder="Imię" ng-model="user.imie" ng-init="user.imie">
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Nazwisko</ons-col>
                        <ons-col class="col ons-col-inner">
                            <input type="text" class="text-input text-input--transparent inputWithLabel" placeholder="Nazwisko" ng-model="user.nazwisko" ng-init="user.nazwisko">
                        </ons-col>
                    </ons-row>
                </li>
            </ul>
        </ons-page>
    </ons-template>
    <ons-template id="newproject.html">
        <ons-page>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="navi.popPage();">
                        <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">Nowy projekt</div>
                <div class="right">
                    <ons-toolbar-button>
                        <ons-icon icon="ion-checkmark-circled" fixed-width="false" style="font-size: 26px; vertical-align: -4px" data-ng-click="addProject()"></ons-icon>
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <ul class="list">
                <li class="list__header">Informacje podstawowe</li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Nazwa*</ons-col>
                        <ons-col class="col ons-col-inner">
                            <input type="text" class="text-input text-input--transparent inputWithLabel" id="nazwaProjektu" placeholder="Nowy projekt">
                        </ons-col>
                    </ons-row>
                </li>
            </ul>
            <ul class="list noOverscroll" id="terminy">
                <li class="list__header">Terminy</li>
            </ul>
            <div class="text-center">
                <div id="dodajTermin">dodaj termin</div>
            </div>
            <ul class="list ">
                <li class="list__header">Budżet</li>
                <li class="list__item" id="twojaStawkaGodzinowa">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Twoja stawka/h</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear optionGenerator" data-count="1000" data-step="5" data-unit="zł">
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Budżet pieniężny</ons-col>
                        <ons-col class="col ons-col-inner">
                            <div class="switchHolder">
                                <ons-switch id="budzetPieniadze"></ons-switch>
                            </div>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item inactive" id="wartoscBudzetPieniadze">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Wartość</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear optionGenerator" data-count="5000" data-step="250" data-unit="zł">
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Budżet godzinowy</ons-col>
                        <ons-col class="col ons-col-inner">
                            <div class="switchHolder">
                                <ons-switch id="budzetGodzinowy"></ons-switch>
                            </div>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item inactive" id="wartoscBudzetGodziny">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Wartość</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear optionGenerator" data-count="1000" data-step="1" data-unit="h">
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
            </ul>
        </ons-page>
    </ons-template>
    <ons-template id="newtask.html">
        <ons-page ng-controller="DetailController">
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="navi.popPage();">
                        <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">Nowy projekt</div>
                <div class="right">
                    <ons-toolbar-button>
                        <ons-icon icon="ion-checkmark-circled" fixed-width="false" style="font-size: 26px; vertical-align: -4px" onclick="navi.popPage();"></ons-icon>
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <ul class="list">
                <li class="list__header">Informacje podstawowe</li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Nazwa*</ons-col>
                        <ons-col class="col ons-col-inner">
                            <input type="text" class="text-input text-input--transparent inputWithLabel" id="nazwaProjektu" placeholder="Nowy projekt">
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item">
                    <ons-row  class="row ons-row-inner">
                        <ons-col class="col ons-col-inner">Opis</ons-col>
                        <ons-col class="col ons-col-inner">
                            <textarea class="text-input text-input--transparent inputWithLabel" id="opisZadania" placeholder="Dodatkowe informacje"></textarea>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item">
                    <ons-row  class="row ons-row-inner">
                        <ons-col class="col ons-col-inner">Miejsce</ons-col>
                        <ons-col class="col ons-col-inner">
                            <span class="text-input text-input--transparent inputWithLabel" id="lokalizacja"  onclick="navi.pushPage('map.html', { animation : 'slide' } )">Wybierz lokalizację</span>
                        </ons-col>
                    </ons-row>
                </li>
            </ul>
            <ul class="list noOverscroll" id="terminy">
                <li class="list__header">Termin i priorytet</li>
                <li class="list__item" id="wybranyTermin">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Termin</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear">
                            <option ng-repeat="termin in item.terminy" value="{{termin.idTerminu}}">{{termin.data}} ({{termin.nazwa}})</option>
                            <option value="inny">Inna data</option>
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
                 <li class="list__item" id="innaData">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Termin</ons-col>
                        <ons-col class="col ons-col-inner">
                               <input type="datetime-local"  class="inputClear">
                        </ons-col>
                    </ons-row>
                </li>
                
             
                 <li class="list__item" id="wybranyPriorytet">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Priorytet</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear">
                            <option value="niski">Niski</option>
                            <option value="normalny">Normalny</option>
                            <option value="wysoki">Wysoki</option>
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
            </ul>
           
            <ul class="list">
                <li class="list__header">Budżet</li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Budżet pieniężny</ons-col>
                        <ons-col class="col ons-col-inner">
                            <div class="switchHolder">
                                <ons-switch id="budzetPieniadze"></ons-switch>
                            </div>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item inactive" id="wartoscBudzetPieniadze">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Wartość</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear optionGenerator" data-count="5000" data-step="250" data-unit="zł">
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Budżet godzinowy</ons-col>
                        <ons-col class="col ons-col-inner">
                            <div class="switchHolder">
                                <ons-switch id="budzetGodzinowy"></ons-switch>
                            </div>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item inactive" id="wartoscBudzetGodziny">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Wartość</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear optionGenerator" data-count="1000" data-step="1" data-unit="h">
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Punkty premiowe</ons-col>
                        <ons-col class="col ons-col-inner">
                            <div class="switchHolder">
                                <ons-switch id="budzetGodzinowy"></ons-switch>
                            </div>
                        </ons-col>
                    </ons-row>
                </li>
                <li class="list__item inactive" id="wartoscBudzetGodziny">
                    <ons-row align="center" class="row ons-row-inner row-center">
                        <ons-col class="col ons-col-inner">Wartość</ons-col>
                        <ons-col class="col ons-col-inner">
                            <select class="inputClear optionGenerator" data-count="5" data-step="1" data-unit="">
                            </select>
                        </ons-col>
                    </ons-row>
                </li>
            </ul>
            <ul class="list" id="personList">
                <li class="list__header">Osoby</li>
            </ul>
            
            <div class="text-center">
                <div id="dodajOsobe" onclick="navi.pushPage('addperson.html', { animation : 'slide' } )">dodaj osobę</div>
            </div>
        </ons-page>
    </ons-template>
    <ons-template id="addperson.html">
        <ons-page ng-controller="DetailController">
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="navi.popPage();">
                        <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">Dodaj osobę</div>
                <div class="right">
                </div>
            </ons-toolbar>
            <ul class="list" id="personToAddList" >
               <ons-list-item modifier="chevron" class="item osoba" ng-repeat="osoba in item.przypisaneOsoby | orderBy:'-imie'" data-person="{{osoba.idOsoby}}" ng-click="addPerson(osoba.idOsoby)">
                        <ons-row>
                            <ons-col>
                                <div class="basicItem logItem">
                                    <div class="avatarHolder">
                                        <div class="person" style="background-image:url({{osoba.avatar}})"></div>
                                        <div class="clear"></div>
                                    </div>
                                    <div class="taskTitle" style="margin-bottom:-10px;">{{osoba.imie}}</div>
                                    <div class="infoElements">
                                        <div class='icon cost'>{{osoba.stawka}}</div>
                                    </div>
                                </div>
                            </ons-col>
                        </ons-row>
                    </ons-list-item>
            </ul>
           
           
        
        </ons-page>
    </ons-template>
        <ons-template id="map.html">
        <ons-page ng-controller="DetailController">
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="navi.popPage();">
                        <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">Dodaj osobę</div>
                <div class="right">
                </div>
            </ons-toolbar>
            <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
<link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" />
       <div id="map_canvas" style="width:100%; height:400px;">
</div>
        </ons-page>
    </ons-template>
    
    
    <script>
        var projectCreated = 0;
        var imieUzytkownika = 'Piotr';
        var nazwiskoUzytkownia = 'Kowalski';
        var avatrUzytkownika = 'http://themina.net/themes/shema/img/demo/team/team_img_3.jpg';
        jQuery(document).ready(function ($) {



            function convertToDataURLviaCanvas(url, callback, outputFormat) {
                var img = new Image();
                img.crossOrigin = 'Anonymous';
                img.onload = function () {
                    var canvas = document.createElement('CANVAS');
                    var ctx = canvas.getContext('2d');
                    var dataURL;
                    canvas.height = this.height * 0.3;
                    canvas.width = this.width * 0.3;
                    ctx.translate(canvas.width / 2, canvas.height / 2);
                    ctx.rotate(90 * Math.PI / 180);
                    ctx.translate(-canvas.width / 2, -canvas.height / 2);
                    ctx.drawImage(this, 0, 0, canvas.width, canvas.height);
                    dataURL = canvas.toDataURL(outputFormat);
                    callback(dataURL);
                    canvas = null;
                };
                img.src = url;
            }


            // Funkcje dla podstron
            function captureSuccess(mediaFiles) {
                var i, len;
                for (i = 0, len = mediaFiles.length; i < len; i += 1) {
                    var obrazek = document.getElementById('avatar');
                    avatrUzytkownika = mediaFiles[i].fullPath;
                    convertToDataURLviaCanvas(avatrUzytkownika, function (base64Img) {
                        avatrUzytkownika = base64Img;
                        $('.avatarUser').css('background-image', 'url(' + base64Img + ')');
                    });
                }
            }

            function captureImage() {
                navigator.device.capture.captureImage(captureSuccess, console.log("capture"), {
                    limit: 1
                });
            }
            ons.ready(function () {
                navi.on('postpush', function () {
                    
                    $('select.optionGenerator').each(function(){
                        if($(this).find('option').length==0) {
                       var count=$(this).attr('data-count');
                        var step=$(this).attr('data-step');
                        var unit=$(this).attr('data-unit');
                        var stringtt='';
                        console.log(new Date());
                        for (i = 1; i <= count; i++) { 
                           stringtt+='<option value="'+(step*i)+'">'+(step*i)+unit+'</option>';
                        }
                         $(this).append(stringtt);
                         console.log(new Date());
                        }
                    });
                    
                    function GoogleMap(){
 
this.initialize = function(){
var map = showMap();
}
 
 var showMap = function(){
var mapOptions = {
zoom: 4,
center: new google.maps.LatLng(-33, 151),
mapTypeId: google.maps.MapTypeId.ROADMAP
}
 
var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
 
return map;
}
}
                    
                       var map = new GoogleMap();
    map.initialize();

                    $('.avatarUser').css('background-image', 'url(' + avatrUzytkownika + ')');


                    $('#goToMojeZadania').click(function () {
                        $('.tabMojeZadania').css('display', 'block');
                        $('.tabProjekty').css('display', 'none');


                    });
                    $('#goToProjekty').click(function () {
                        $('.tabMojeZadania').css('display', 'none');
                        $('.tabProjekty').css('display', 'block');

                    });

                    $('#goToZadania').click(function () {
                        $('.tabZadania').css('display', 'block');
                        $('.tabPostep').css('display', 'none');
                        $('.tabBudzet').css('display', 'none');
                        $('.emptyAll').css('display', 'block');

                    });

                    $('#goToBudzet').click(function () {
                        $('.tabZadania').css('display', 'none');
                        $('.tabPostep').css('display', 'none');
                        $('.tabBudzet').css('display', 'block');
                        $('.emptyAll').css('display', 'none');
                        $('.chartHours').easyPieChart({
                            size: 148,
                            lineWidth: 5,
                            barColor: '#7ABC32',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });

                        $('.chartMoney').easyPieChart({
                            size: 148,
                            lineWidth: 5,
                            barColor: '#E32C35',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });
                    });

                    $('#goToPostep').click(function () {
                        $('.tabZadania').css('display', 'none');
                        $('.tabPostep').css('display', 'block');
                        $('.tabBudzet').css('display', 'none');
                        $('.emptyAll').css('display', 'none');
                        $('.chartTask').easyPieChart({
                            size: 148,
                            lineWidth: 5,
                            barColor: '#25007C',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });

                    });


                    $('#goToDashboard').click(function () {
                        $('.page__background').toggleClass('simpleBG');
                        $('.tabMojeZadania').css('display', 'none');
                        $('.tabProjekty').css('display', 'none');
                        $('.homeTabs').css('display', 'none');
                        $(this).css('display', 'none');
                        $('.tabDashboard').css('overflow', 'initial');
                        $('.tabDashboard').css('height', 'auto');
                        $('#goToList').css('display', 'inline-block');
                        $('.chart').easyPieChart({
                            size: 230,
                            lineWidth: 6,
                            barColor: '#FFD100',
                            trackColor: '#1E1052',
                            scaleColor: '#32188f',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });

                    });
                    
                    $('#goToList').click(function () {
                        $('.page__background').toggleClass('simpleBG');
                        $('.tabMojeZadania').css('display', 'none');
                        $('.tabProjekty').css('display', 'block');
                        $('.homeTabs').css('display', 'block');
                        $(this).css('display', 'none');
                        $('.tabDashboard').css('overflow', 'hidden');
                        $('.tabDashboard').css('height', '1px');
                        $('#goToDashboard').css('display', 'inline-block');

                    });
                    $(function () {

                        $('.chartMini').easyPieChart({
                            size: 50,
                            lineWidth: 3,
                            barColor: '#25007C',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });

                        $('.chartMini2').easyPieChart({
                            size: 50,
                            lineWidth: 3,
                            barColor: '#25007C',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });

                        $('.chartMini3').easyPieChart({
                            size: 50,
                            lineWidth: 3,
                            barColor: '#E32C35',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });

                        $('.chartMini4').easyPieChart({
                            size: 50,
                            lineWidth: 3,
                            barColor: '#7ABC32',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });


                    });

                    function reChart() {
                        $('.chart').easyPieChart({
                            size: 230,
                            lineWidth: 6,
                            barColor: '#FFD100',
                            trackColor: '#1E1052',
                            scaleColor: '#32188f',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });

                        $('.chartMini').easyPieChart({
                            size: 50,
                            lineWidth: 3,
                            barColor: '#25007C',
                            trackColor: '#F7F7F7',
                            scaleColor: '#FAFAFD',
                            lineCap: 'square',
                            easing: 'easeOutBounce',
                            onStep: function (from, to, percent) {
                                $(this.el).find('.percent').text(Math.round(percent));
                            }
                        });
                    }

                    $('#budgetType').click(function () {
                        ons.notification.confirm({
                            title: 'Opcje projektu',
                            message: "co chcesz zrobić?",
                            buttonLabels: [
      'Koszty',
      'Przepracowane godziny',
      'Przypisane zadania',
        'Punkty premiowe'
    ],
                            primaryButtonIndex: 0,
                            callback: function (index) {
                                if (index == 0) {
                                    $('.typeAll').css('display', 'none');
                                    $('.typeKoszt').css('display', 'block');
                                    $('.typeKoszt').addClass('blink');
                                    $('#budgetType').html('Koszty - zmień <i class="icon ion-android-arrow-dropdown"></i>');
                                }
                                if (index == 1) {
                                    $('.typeAll').css('display', 'none');
                                    $('.typeCzas').css('display', 'block');
                                    $('.typeCzas').addClass('blink');
                                    $('#budgetType').html('Przepracowane godziny - zmień <i class="icon ion-android-arrow-dropdown"></i>');
                                }
                                if (index == 2) {
                                    $('.typeAll').css('display', 'none');
                                    $('.typeZadania').css('display', 'block');
                                    $('.typeZadania').addClass('blink');
                                    $('#budgetType').html('Przypisane zadania - zmień <i class="icon ion-android-arrow-dropdown"></i>');
                                }
                                if (index == 3) {
                                    $('.typeAll').css('display', 'none');
                                    $('.typePunkty').css('display', 'block');
                                    $('.typePunkty').addClass('blink');
                                    $('#budgetType').html('Punkty premiowe - zmień <i class="icon ion-android-arrow-dropdown"></i>');
                                }
                            }
                        });
                    });

                    // Nowy projekt 
                    $('#newTask').fadeIn();

                    $('#budzetGodzinowy').click(function () {
                        $('#wartoscBudzetGodziny').toggleClass('inactive');
                    });
                    $('#budzetPieniadze').click(function () {
                        $('#wartoscBudzetPieniadze').toggleClass('inactive');
                    });
                    var animationCount = 0;
                    $('#dodajTermin').click(function () {
                        if (animationCount == 0) {
                            $(this).removeClass('blink');
                            $(this).addClass('blink2');
                            animationCount++;
                        } else {
                            $(this).removeClass('blink2');
                            $(this).addClass('blink');
                            animationCount = 0;
                        }
                        var item = $('<li class="list__item pojedynczyTermin" style="padding-right:8px; display:none;"><ons-row align="center" class="row ons-row-inner row-center" style="padding-right:1px;"><ons-col class="col ons-col-inner">Data*</ons-col><ons-col class="col ons-col-inner" style="padding-right:8px;"><input type="datetime-local"  class="inputClear" value="' + new Date().toJSON().slice(0, 19) + '" ></ons-col></ons-row><ons-row align="center" class="row ons-row-inner row-center"><ons-col class="col ons-col-inner">Nazwa*</ons-col><ons-col class="col ons-col-inner"><input type="text" class="text-input text-input--transparent inputWithLabel" placeholder="Nazwa terminu"></ons-col></ons-row></li>');
                        $('#terminy').append(item);
                        $(item).fadeIn(2000);
                    });

                    $('#capturePhoto').click(function () {
                        captureImage();
                    });
                });
            });
        });
    </script>
</body>

</html>